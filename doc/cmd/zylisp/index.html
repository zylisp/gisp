<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>zylisp - The Go Programming Language</title>

<link type="text/css" rel="stylesheet" href="/lib/godoc/style.css">

<link rel="search" type="application/opensearchdescription+xml" title="godoc" href="/opensearch.xml" />


<script>window.initFuncs = [];</script>

<script src="/lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.12";</script>
<script src="/lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="/">The Go Programming Language</a></div>
<div class="top-heading" id="heading-narrow"><a href="/">Go</a></div>
<a href="#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="/search">
<div id="menu">
<a href="/doc/">Documents</a>
<a href="/pkg/">Packages</a>
<a href="/project/">The Project</a>
<a href="/help/">Help</a>

<a href="/blog/">Blog</a>


<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Command zylisp
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<p>
The ZYLISP command line and multi-REPL tool.
</p>
<h3 id="hdr-Overview">Overview</h3>
<p>
The ZYLISP project&#39;s zylisp command is a tool for both performing command line
actions (i.e., batch jobs) as well as interactive programming (REPLs). In both
cases, there are three modes:
</p>
<pre>* AST
* Go code generation
* Lisp (the actual, classic REPL)
</pre>
<p>
Each of these is covered in more detail below.
</p>
<h3 id="hdr-Setup">Setup</h3>
<p>
For setting the project GOPATH and building the zylisp command, see the project
Github page at <a href="https://github.com/zylisp/zylisp#development">https://github.com/zylisp/zylisp#development</a>.
</p>
<p>
If you would prefer to use ZYLISP without cloning the repo and setting up a
development environment, you may install it with the following:
</p>
<pre>$ go get github.com/zylisp/gisp/cmd/zylisp
</pre>
<p>
Since the zylisp command makes use of Go flags, it has a generated help output.
You may view this with the usual -h option:
</p>
<pre>$ zylisp -h
</pre>
<h3 id="hdr-REPL">REPL</h3>
<p>
The ZYLISP REPL is designed for interactive programming.
</p>
<p>
In AST mode, the REPL will take any expression given and attempt to create
a Go abstract syntax tree from that:
</p>
<pre>$ zylisp -ast

AST&gt; (+ 1 2)
Parsed:
[(+ 1 2)]
AST:
     0  []ast.Expr (len = 1) {
     1  .  0: *ast.CallExpr {
     2  .  .  Fun: *ast.SelectorExpr {
     3  .  .  .  X: *ast.Ident {
     4  .  .  .  .  NamePos: -
     5  .  .  .  .  Name: &#34;core&#34;
     6  .  .  .  }
     7  .  .  .  Sel: *ast.Ident {
     8  .  .  .  .  NamePos: -
     9  .  .  .  .  Name: &#34;ADD&#34;
    10  .  .  .  }
    11  .  .  }
    12  .  .  Lparen: -
    13  .  .  Args: []ast.Expr (len = 2) {
    14  .  .  .  0: *ast.Ident {
    15  .  .  .  .  NamePos: -
    16  .  .  .  .  Name: &#34;1&#34;
    17  .  .  .  }
    18  .  .  .  1: *ast.Ident {
    19  .  .  .  .  NamePos: -
    20  .  .  .  .  Name: &#34;2&#34;
    21  .  .  .  }
    22  .  .  }
    23  .  .  Ellipsis: -
    24  .  .  Rparen: -
    25  .  }
    26  }
</pre>
<h3 id="hdr-CLI">CLI</h3>
<p>
The command line interface is for performing batched or scripted operations
and is enabled with the -cli option. However, in CLI mode, you must pass one
or more file names (file globbing allowed).
</p>
<p>
In AST mode, the CLI will parse the given file and produce as output the
corresponding Go AST for the Lisp code in the file provided:
</p>
<pre>$ zylisp -ast -cli examples/factorial.gsp
</pre>
<p>
The output is a bit long (302 lines), but here are the first 20 lines:
</p>
<pre> 0  *ast.File {
 1  .  Package: -
 2  .  Name: *ast.Ident {
 3  .  .  NamePos: -
 4  .  .  Name: &#34;main&#34;
 5  .  }
 6  .  Decls: []ast.Decl (len = 3) {
 7  .  .  0: *ast.GenDecl {
 8  .  .  .  TokPos: -
 9  .  .  .  Tok: import
10  .  .  .  Lparen: -
11  .  .  .  Specs: []ast.Spec (len = 2) {
12  .  .  .  .  0: *ast.ImportSpec {
13  .  .  .  .  .  Path: *ast.BasicLit {
14  .  .  .  .  .  .  ValuePos: -
15  .  .  .  .  .  .  Kind: STRING
16  .  .  .  .  .  .  Value: &#34;\&#34;fmt\&#34;&#34;
17  .  .  .  .  .  }
18  .  .  .  .  .  EndPos: -
19  .  .  .  .  }
20  .  .  .  .  1: *ast.ImportSpec {
</pre>
<p>
In Go-generation mode, the output is instead compilable Go code:
</p>
<pre>$ zylisp -cli -go examples/factorial.gsp

package main

import (
	&#34;fmt&#34;
	&#34;github.com/zylisp/gisp/core&#34;
)

func main() {
	fmt.Printf(&#34;10! = %d\n&#34;, int(factorial(10).(float64)))
}
func factorial(n core.Any) core.Any {
	return func() core.Any {
		if core.LT(n, 2) {
			return 1
		} else {
			return core.MUL(n, factorial(core.ADD(n, -1)))
		}
	}()
}
</pre>

	

	







<div id="footer">
Build version go1.12.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="/LICENSE">BSD license</a>.<br>
<a href="/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->

</body>
</html>

